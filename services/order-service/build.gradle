version '1.0-SNAPSHOT'

buildscript {
    dependencies {
        classpath "io.spring.gradle:dependency-management-plugin:${management_version}"
        classpath "org.springframework.boot:spring-boot-gradle-plugin:${boot_version}"
    }
}

apply plugin: 'org.springframework.boot'
apply plugin: 'io.spring.dependency-management'

dependencyManagement {
    imports {
        mavenBom "io.spring.platform:platform-bom:${platform_version}"
        mavenBom "org.springframework.cloud:spring-cloud-dependencies:${cloud_version}"
    }
}

dependencies {
    compile 'org.springframework.cloud:spring-cloud-config-client'
    compile 'org.springframework.cloud:spring-cloud-starter-eureka'
    compile 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'
    compile 'org.modelmapper:modelmapper:1.0.0'
    compile project(':platform:seedwork-framework')
}

bootRepackage {
    mainClass = 'org.jsamples.microservices.order.Main'
    executable = true
}

jar {
    manifest {
        attributes 'Specification-Vendor'       : specification_vendor,
                   'Specification-Version'      : version,
                   'Specification-Title'        : 'Microservices Order Service',
                   'Implementation-Vendor'	    : implementation_vendor,
                   'Implementation-Version'	    : implementation_version,
                   'Implementation-Title'	    : 'order-service',
                   'Implementation-Unit'   	    : implementation_unit,
                   'Java-Specification-Version' : sourceCompatibility
    }
    baseName = 'order-service'
}